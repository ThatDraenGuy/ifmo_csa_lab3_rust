# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3 –ø–æ "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞" - ü¶Ä Rust edition ü¶Ä
**–•–∞–π–∫–∏–Ω –û–ª–µ–≥ –ò–≥–æ—Ä–µ–≤–∏—á, P33312**  
–í–∞—Ä–∏–∞–Ω—Ç - asm | cisc | neum | hw | tick | struct | stream | port | pstr | prob2 | \[4\]char
## –†–∞–∑–±–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
–î–µ—Ç–∞–ª–∏ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](./template.md)

## –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
```
program ::= terms

terms ::= term
        | terms term

term ::= instruction
       | label_def
       | directive


instruction ::= math_op
              | branch_op
              | alter_op
              | io_op
              | control_op
              | stack_op

math_op ::= math_opcode math_args
math_opcode ::= 'mov'
              | 'add'
              | 'sub'
              | 'cmp'
              | 'shl'
              | 'shr'

math_args ::= reg_id ',' reg_id
            | mem_by_reg_id ',' reg_id
            | reg_id ',' mem_by_reg_id
            | reg_id ',' label_ref
            | label_ref ',' reg_id
            | reg_id ',' immed


branch_op ::= branch_opcode branch_args
branch_opcode ::= 'jmp'
                | 'jz'
                | 'jnz'
                | 'js'
                | 'jns'
branch_args ::= label_ref


alter_op ::= alter_opcode alter_args
alter_opcode ::= 'inc'
               | 'dec'
alter_args ::= reg_id


io_op ::= io_opcode io_args
io_opcode ::= 'in'
            | 'out'
io_args ::= port_id


control_op ::= 'exit'
             | 'div'


stack_op ::= 'ret'
           | 'call' label_ref
           | 'pop' reg_id
           | 'push' push_args
push_args ::= reg_id
            | immed


mem_by_reg_id ::= '[' reg_id ']'
reg_id ::= 'eax'
         | 'ebx'
         | 'ecx'
         | 'edx'
         | 'esp'
         | 'eip'

immed ::= u32
        | i32
        | symbol
port_id ::= u16

directive ::= "word" literal
literal ::= immed
          | string
string ::= \"(\\.|[^\"])*\"

label_ref ::= label_id
label_def ::= label_id ':'
label_id ::= <combination of any english lowercase letter, number or undeerscore>
```

–°–ø–æ—Å–æ–±—ã –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏, —á–µ—Ä–µ–∑ –¥–∏—Ä–µ–∫—Ç–∏–≤—É word
- –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å—Ç–µ–∫–µ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏, —ç—Ç–æ –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ä—É—á–Ω–æ–π –≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π push/pop –∏–ª–∏ —Å–º–µ—â–µ–Ω–∏–µ —Å—Ç—ç–∫-–ø–æ–∏–Ω—Ç–µ—Ä–∞)

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç.

–í –∫–∞—á–µ—Å—Ç–≤–µ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ (immed-–∑–Ω–∞—á–µ–Ω–∏–π) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è u32/i32 —á–∏—Å–ª–∞ –∏ –æ–¥–∏–Ω–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (char). –î–ª—è –¥–∏—Ä–µ–∫—Ç–∏–≤—ã word —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã.


## –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
–ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –º–∞—Å—Å–∏–≤–æ–º –∏–∑ –º–∞—à–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤. –ö–∞–∂–¥–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞. –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ 32-–±–∏—Ç–Ω—ã–µ –∞–¥—Ä–µ—Å–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –¥–æ U32_MAX —è—á–µ–µ–∫ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.

–°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–∞—è –ø–∞–º—è—Ç—å –¥–æ—Å—Ç–∏–≥–∞–ª–∞ –±—ã 16 –≥–∏–≥–∞–±–∞–π—Ç. –í —Ü–µ–ª—è—Ö —Ä–∞–±–æ—Ç—ã —Å —Å–∏–º—É–ª—è—Ü–∏–µ–π —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏ –±—ã–ª —É–º–µ–Ω—å—à–µ–Ω –¥–æ 4096 —è—á–µ–µ–∫. –ê–¥—Ä–µ—Å–∞—Ü–∏—è –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞ –∏ —Å–ø–æ—Å–æ–±–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å "–ø–æ–ª–Ω—É—é" –ø–∞–º—è—Ç—å.

–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –ø–∞–º—è—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–∞ - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞—á–∞–ª—å–Ω–æ–π —è—á–µ–π–∫–∏ –ø–∞–º—è—Ç–∏, –≤ –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –±—ã–ª–∏ –∑–∞–¥–∞–Ω—ã —Å –∏—Å—Ö–æ–¥–Ω–æ–º asm-–∫–æ–¥–µ.

–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É –¥–æ—Å—Ç—É–ø–Ω—ã:
- 5 —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ (Accumulator, Base, Count, Data, Stack Pointer –∏ Instruction Pointer)
- –ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (–ø—É—Ç—ë–º —Ä–∞–±–æ—Ç—ã —Å –º–µ—Ç–∫–∞–º–∏, —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏ –∏–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–º –Ω–∞ —Å—Ç–µ–∫)

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–±—Ç—Å—è –Ω–∞ —Å—Ç—ç–∫–µ. –ö—É—á–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.


## –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥
–ú–∞—à–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞. –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ - —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤—Å—ë —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–æ—Ä–æ–º –±–∏—Ç.

–†–µ–≥–∏—Å—Ç—Ä—ã, –∫–∞–∫ –∏ –º–∞—à–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ 4 –±–∞–π—Ç–∞ (32 –±–∏—Ç–∞). 

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä—è–º–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è.

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –ø–æ—Ä—Ç–∞–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –î–æ—Å—Ç—É–ø –∫ –Ω–∏–º –æ—Å—É—â–µ—Å—Ç–≤—É–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ id –ø–æ—Ä—Ç–∞. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 2**16 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤.

–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ü–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é eip (—Ä–µ–≥–∏—Å—Ç—Ä–∞-—É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é).

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞–Ω–∏–º–∞—é—Ç –æ—Ç –æ–¥–Ω–æ–≥–æ –¥–æ –¥–≤—É—Ö –º–∞—à–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–≤—É—Ö –º–∞—à–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–∑-–∑–∞ —Ä–∞–∑–º–µ—Ä–∞ immed-–∑–Ω–∞—á–µ–Ω–∏–π –∏ –∞–¥—Ä–µ—Å–æ–≤ (–æ–±–∞ –º–æ–≥—É—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å 4-—ë—Ö –±–∞–π—Ç, —Ç.–µ. —Ü–µ–ª–æ–≥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞, –∏–∑-–∑–∞ —á–µ–≥–æ –º–µ—Å—Ç–∞ –ø–æ–¥ –∫–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ç–∏–ø –µ—ë –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ –æ—Å—Ç–∞—ë—Ç—Å—è)

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —É—Å–ª–æ–≤–Ω–æ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

### MathOp
"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ" –æ–ø–µ—Ä–∞—Ü–∏–∏. –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç 2 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ - dest –∏ src. –û–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –Ω–µ–∫—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞–¥ 2-–º—è –æ–ø–µ—Ä–∞–Ω–¥–∞–º–∏ (–≤–∑—è—Ç—ã–º–∏ –∏–∑ dest –∏ src —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ) –∏ –ø–æ–º–µ—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ dest. –û–ø–µ—Ä–∞–Ω–¥–∞–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å:
- –ø–∞—Ä–∞ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
- dest - —Ä–µ–≥–∏—Å—Ç—Ä, src - –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞
- dest - –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞, src - —Ä–µ–≥–∏—Å—Ç—Ä
- dest - —Ä–µ–≥–∏—Å—Ç—Ä, src - –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É-–∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ
- dest - –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É-–∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ, src - —Ä–µ–≥–∏—Å—Ç—Ä
- dest - —Ä–µ–≥–∏—Å—Ç—Ä, src - immed-–∑–Ω–∞—á–µ–Ω–∏–µ (–ª–∏—Ç–µ—Ä–∞–ª)

–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- MOV - –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ src –≤ dest
- ADD - –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ src –∫ dest
- SUB - –≤—ã—á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ src –∏–∑ dest
- CMP - –≤—ã—á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ src –∏–∑ dest, –Ω–æ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç dest, –∞ —Ç–æ–ª—å–∫–æ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–ª–∞–≥–∏
- SHL - –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ src –Ω–∞ dest –±–∏—Ç –≤–ª–µ–≤–æ
- SHR - –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ src –Ω–∞ dest –±–∏—Ç –≤–ø—Ä–∞–≤–æ

### BranchOp
–û–ø–µ—Ä–∞—Ü–∏–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è. –ò–∑–º–µ–Ω—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ eip –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ —É—Å–ª–æ–≤–∏—è. –ò—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –∞–¥—Ä–µ—Å, –∫—É–¥–∞ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–∫–æ–π).

–£—Å–ª–æ–≤–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫–æ–≥–æ-—Ç–æ –∏–∑ —Ñ–ª–∞–≥–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–ª–∞–≥–æ–≤:
- ZF (zero flag) - —Ñ–ª–∞–≥, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- SF (sign flag) - —Ñ–ª–∞–≥, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π "–∑–Ω–∞–∫" –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ª–∏—á–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –≤ –µ–≥–æ —Å—Ç–∞—Ä—à–µ–º –±–∏—Ç–µ)

–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- JMP - –±–µ–∑—É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥
- JZ - –ø–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ ZF=1
- JNZ - –ø–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ ZF=0
- JS - –ø–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ SF=1
- JNS - –ø–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ SF=0

### AlterOp
–û–ø–µ—Ä–∞—Ü–∏–∏ –∞–ª—å—Ç–µ—Ä–∞—Ü–∏–∏. –ò–∑–º–µ–Ω—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∏–º –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç.

–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- INC - –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞
- DEC - –¥–µ–∫—Ä–µ–º–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞

### IoOp
–û–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞. –ü—Ä–∏–Ω–∏–º–∞—é—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ id –ø–æ—Ä—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –í—ã–ø–æ–ª–Ω—è—é—Ç –≤–≤–æ–¥/–≤—ã–≤–æ–¥ –º–µ–∂–¥—É –≤—ã–±—Ä–∞–Ω–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –∏ –º–ª–∞–¥—à–∏–º –±–∞–π—Ç–æ–º –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞.

–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- IN - —á—Ç–µ–Ω–∏–µ –±–∞–π—Ç–∞ –∏–∑ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –º–ª–∞–¥—à–∏–π –±–∞–π—Ç –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞
- OUT - –∑–∞–ø–∏—Å—å –±–∞–π—Ç–∞ –∏–∑ –º–ª–∞–¥—à–µ–≥–æ –±–∞–π—Ç–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

### ControlOp
–û–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ù–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∫–∞–∫—É—é-—Ç–æ "–æ—Å–æ–±—É—é" –æ–ø–µ—Ä–∞—Ü–∏—é.

–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- EXIT - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- DIV - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–µ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ base-—Ä–µ–≥–∏—Å—Ç—Ä–∞. –ü–æ–º–µ—â–∞–µ—Ç —á–∞—Å—Ç–Ω–æ–µ –≤ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –∏ –æ—Å—Ç–∞—Ç–æ–∫ –≤ –¥–∞—Ç–∞-—Ä–µ–≥–∏—Å—Ç—Ä.

### StackOp
–û–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–µ–∫–æ–º. –ò–º–µ—é—Ç —Ä–∞–∑–Ω—ã–π –Ω–∞–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–æ–ª—å–∫–æ –ø–æ —Å–º—ã—Å–ª—É.

–°—Ç–µ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ esp-—Ä–µ–≥–∏—Å—Ç—Ä–∞ (—É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –≤–µ—Ä—à–∏–Ω—É —Å—Ç–µ–∫–∞). –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–µ–∫ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∞–¥—Ä–µ—Å –ø–æ—Å–ª–µ–¥–Ω–µ–π —è—á–µ–π–∫–∏ –ø–∞–º—è—Ç–∏ + 1. –°—Ç–µ–∫ "—Ä–∞—Å—Ç—ë—Ç" –≤–Ω–∏–∑, –ø—É—Ç—ë–º –¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∞ esp-—Ä–µ–≥–∏—Å—Ç—Ä–∞. –ü—Ä–∏ –ø–æ–º–µ—â–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–µ–∫ esp-—Ä–µ–≥–∏—Å—Ç—Ä –¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∞–¥—ë—Ç—Å—è –≤ –ø–∞–º—è—Ç—å –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ –Ω–µ–≥–æ. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å—Ç–µ–∫–∞, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ esp-—Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ –µ–≥–æ –ø–æ–ª—Å–µ–¥—É—é—â–∏–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç.

–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- PUSH - –∫–ª–∞–¥—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å—Ç–µ–∫, –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä –∏–ª–∏ immed-–∑–Ω–∞—á–µ–Ω–∏–µ.
- POP - –¥–æ—Å—Ç–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å—Ç–µ–∫–∞ –∏ –∫–ª–∞–¥—ë—Ç –µ–≥–æ –≤ —Ä–µ–≥–∏—Å—Ç—Ä, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç
- CALL - –≤—ã–∑–æ–≤ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã(—Ñ—É–Ω–∫—Ü–∏–∏). –ü–æ–º–µ—â–∞–µ—Ç –≤ —Å—Ç–µ–∫ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ eip-—Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ –∑–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ –∞–¥—Ä–µ—Å–æ–º, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç, —Ç–µ–º —Å–∞–º—ã–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è—è –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Ç–µ–ª–æ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- RET - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã. –î–æ—Å—Ç–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–µ–∫–∞ –∏ –∫–ª–∞–¥—ë—Ç –µ–≥–æ –≤ eip. –ù–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ –≤—ã–∑–æ–≤—É `pop eip`

## –¢—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- –¢—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, —Ä–∞–∑–º–µ—â—ë–Ω–Ω–∞—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ

–í—ã–∑–æ–≤ —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:  
`./translator <source_file> <target_file>`

–¢—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 2 –ø—Ä–æ—Ö–æ–¥–∞:

–í –ø–µ—Ä–≤–æ–º –ø—Ä–æ—Ö–æ–¥–µ —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å–∞ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫.

–í–æ –≤—Ç–æ—Ä–æ–º –ø—Ä–æ—Ö–æ–¥–µ —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä –æ—Å—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ —è–∑—ã–∫–∞ –≤ –º–∞—à–∏–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø–æ–¥—Å—Ç–∞–≤–ª—è—è –≤–º–µ—Å—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –º–µ—Ç–∫–∞–º –∏—Ö —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞.


## –ú–æ–¥–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (—á–µ—Ä–µ–∑ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –ø–æ—Ä—Ç–µ 0)

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- –í—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (—á–µ—Ä–µ–∑ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –ø–æ—Ä—Ç–µ 1)
- –î–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∏ —Ñ–ª–∞–≥–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

–í—ã–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—â—à–∏–Ω—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:  
`./machine <code_file> <input_file>`

### –°—Ö–µ–º–∞ Datapath
```
                    to Decoder
                  ‚ñ≤     ‚ñ≤     ‚ñ≤                       ‚îÇfrom Decoder               ‚îÇfrom Decoder    ‚ñ≤to Decoder
                  ‚îÇ     ‚îÇ     ‚îÇ                       ‚îÇ                           ‚îÇ                ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ                       ‚îÇ                           ‚îÇ                ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ                       ‚îÇ                           ‚îÇ                ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ                       ‚îÇ                           ‚îÇ                ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ                       ‚îÇ                           ‚îÇ                ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ                       ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ                ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚î§     Memory     ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ          ‚îÇ            ‚îÇ ‚îÇ                ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§Mem Addr‚óÑ‚îÄ‚îÄ‚îê        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ   sel ‚îå‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îê         ‚îÇ ‚îÇ                ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ   ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫DEMUX‚îÇ         ‚îÇ ‚îÇ                ‚îÇ                ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ       ‚îî‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îò         ‚îÇ ‚îÇ                ‚îÇRD SIG          ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ        ‚îÇ ‚îÇ ‚îÇ          ‚îÇ ‚îÇ                ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ            ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ ‚îÇ          ‚îÇ ‚îÇ                ‚îÇ                ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ                ‚îÇ ‚îÇ          ‚îÇ ‚îÇ                ‚îÇ                ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ          ‚îÇ ‚îÇ                ‚îÇWR SIG          ‚îÇ        ‚îÇ
                  ‚îÇ     ‚îÇ     ‚îÇ            ‚îÇ          ‚îÇ ‚îÇ                ‚óÑ‚îÄ‚îÄ‚îÄ             ‚îÇ        ‚îÇ
                  ‚îÇ  ‚îå‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ          ‚îÇ ‚îÇ                ‚îÇ                ‚îÇ        ‚îÇ
to/from Ports     ‚îÇ  ‚îÇ  Registers  ‚îÇ       ‚îÇ          ‚îÇ ‚îÇ                ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ        ‚îÇ
‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∫             ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ ‚îÇ                ‚óÑ‚îÄ‚îÄ‚îÄ‚î§Mem In Buf‚îÇ ‚îÇ        ‚îÇ
                  ‚îÇ  ‚îÇ             ‚îÇ   ‚îÇMem Out Buf‚îÇ  ‚îÇ ‚îÇ                ‚îÇ   ‚îî‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ        ‚îÇ
                  ‚îÇ  ‚îî‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ     ‚îÇ              ‚îÇ         ‚îÇ                        ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ     ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§         ‚îÇ                        ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ     ‚îÇ ‚îÇ            ‚îÇ         ‚îÇ                        ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ     ‚îú‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                        ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ     ‚îÇ ‚îÇ          ‚îÇ ‚îÇ ‚îÇ                                ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ sel‚îå‚ñº‚îÄ‚ñº‚îê        ‚îå‚ñº‚îÄ‚ñº‚îÄ‚ñº‚îêsel                            ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∫MUX‚îÇ        ‚îÇ MUX ‚óÑ‚îÄ‚îÄ‚îÄ                            ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îî‚îÄ‚î¨‚îÄ‚îò        ‚îî‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò                               ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ      ‚îÇ            ‚îÇ                                   ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îå‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îê                                 ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îÇ      ALU       ‚îÇ                                 ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îÇ                ‚îÇALU signals                      ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îÇ                ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                          ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îÇ                ‚îÇ                                 ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îÇ                ‚îÇ                                 ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                 ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ            ‚îÇ                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ          ‚îÇ        ‚îÇ
                  ‚îÇ    ‚îÇ            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫flags‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ    ‚îÇ            ‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ          ‚îÇ
                  ‚îÇ    ‚îÇ       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îêsel                                  ‚îÇ          ‚îÇ
                  ‚îÇ    ‚îÇ       ‚îÇ  DEMUX  ‚óÑ‚îÄ‚îÄ‚îÄ                                  ‚îÇ          ‚îÇ
                  ‚îÇ    ‚îÇ       ‚îî‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚îÄ‚î¨‚îÄ‚î¨‚îò                                     ‚îÇ          ‚îÇ
                  ‚îÇ    ‚îÇ         ‚îÇ ‚îÇ  ‚îÇ ‚îÇ                                      ‚îÇ          ‚îÇ
                  ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
                  ‚îÇ                ‚îÇ  ‚îÇ                                                   ‚îÇ
                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ö–µ–º–∞ ControlUnit
```
                                                                         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                                         ‚îÇ microcode ‚îÇ
                                                                         ‚îÇ decoder   ‚îÇ
                                                                         ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îò
                                                                             ‚îÇ      ‚îÇ
                                                                             ‚îÇ      ‚îÇ
                                                                             ‚îÇ      ‚îÇ
                                                                             ‚îÇ      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ      ‚îÇ
‚îÇ                            Decoder                                ‚îÇ        ‚îÇ      ‚îÇ
‚îÇ                                                                   ‚îÇ        ‚îÇ      ‚îÇ
‚îÇ                                                                   ‚îÇ        ‚îÇ      ‚îÇ
‚îÇ                                                                   ‚îÇ        ‚îÇ      ‚îÇ
‚îÇ                                                                   ‚îÇSignals ‚îÇ      ‚îÇ
‚îÇ                        *—á—ë—Ä–Ω–∞—è –º–∞–≥–∏—è*                             ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                                   ‚îÇ               ‚îÇ
‚îÇ                                                                   ‚îÇ               ‚îÇ
‚îÇ                           operand pipe                            ‚îÇ               ‚îÇ
‚îÇ                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                        ‚îÇ               ‚îÇ
‚îÇ                        ‚îÇ                 ‚îÇ                        ‚îÇ               ‚îÇ
‚îÇ        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ               ‚îÇ
‚îÇ        ‚îÇInstruction buffer‚îÇ            ‚îÇOperand buffer‚îÇ           ‚îÇ               ‚îÇ
‚îÇ        ‚îî‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îò           ‚îÇ               ‚îÇ
‚îÇ          ‚îÇ                               ‚îÇ          ‚îÇ             ‚îÇ               ‚îÇ
‚îÇ          ‚îÇ                               ‚îÇ          ‚îÇ             ‚îÇ               ‚îÇ
‚îÇ          ‚îÇ                               ‚îÇ          ‚îÇ             ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ          ‚îÇ                               ‚îÇ          ‚îÇ             ‚îÇ               ‚îÇ
‚îÇ          ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ             ‚îÇ               ‚îÇ
‚îÇ          ‚îÇ  ‚îÇ                                       ‚îÇ             ‚îÇ               ‚îÇ
‚îÇ         ‚îå‚î¥‚îÄ‚îÄ‚î¥‚îÄ‚îê                                     ‚îÇ             ‚îÇ               ‚îÇ
‚îÇ         ‚îÇDEMUX‚îÇ                                     ‚îÇ             ‚îÇ flags         ‚îÇ
‚îÇ         ‚îî‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îò                                     ‚îÇ             ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ           ‚îÇ                                         ‚îÇ             ‚îÇ         ‚îÇ     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ     ‚îÇ
            ‚îÇ                                         ‚îÇ                       ‚îÇ     ‚îÇ
            ‚îÇ                                         ‚îÇ                       ‚îÇ     ‚îÇ
            ‚îÇ                                         ‚îÇ                       ‚îÇ     ‚îÇ
            ‚îÇ                                         ‚îÇ                       ‚îÇ     ‚îÇ
            ‚îÇ                                         ‚îÇ                       ‚îÇ     ‚îÇ
            ‚îÇ                                         ‚îÇ                       ‚îÇ     ‚îÇ
            ‚îÇfrom ALU DEMUX                           ‚ñºto right ALU MUX       ‚îÇ     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ     ‚îÇ
‚îÇ                              Datapath                             ‚îÇ         ‚îÇ     ‚îÇ
‚îÇ                                                                   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                                                   ‚îÇ               ‚îÇ
‚îÇ                                                                   ‚îÇ               ‚îÇ
‚îÇ                                                                   ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ                                                                   ‚îÇ Signals
‚îÇ                                                                   ‚îÇ
‚îÇ                                                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```



## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ [insta](https://crates.io/crates/insta), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–Ω–∞–ø—à–æ—Ç–æ–≤.  
–Ø —Å—á–∏—Ç–∞—é —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É –Ω–∞–∏–ª—É—á—à–∏–º –∞–Ω–∞–ª–æ–≥–æ–º golden-—Ç–µ—Å—Ç–æ–≤ –≤ —Ä–∞–º–∫–∞—Ö Rust'–∞. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏, —Å–Ω–∞–ø—à–æ—Ç—ã —Ö—Ä–∞–Ω—è—Ç –≤ —Å–µ–±–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∞ –Ω–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–∞–π–ª–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –º–Ω–æ—é.

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [inputs](./tests/inputs/) —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤. –ö–∞–∂–¥—ã–π yml —Ñ–∞–π–ª –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞—Å—Å–µ–º–±–ª–µ—Ä-–∫–æ–¥ –¥–ª—è —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä–∞ –∏ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞–±–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä–∞ –∏ –º–∞—à–∏–Ω—ã –∏ —Ñ–∞–π–ª–∞ —Å –º–∞—à–∏–Ω–Ω—ã–º –∫–æ–¥–æ–º. –í—ã–≤–æ–¥—ã –≤ stdout (–≤—ã–≤–æ–¥ –≤–∏—Ä—Ç–∞—É–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã) –∏ stderr (–¥–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è) —Ç–∞–∫–∂–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è. –ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç—ã —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä–∞ –∏ –º–∞—à–∏–Ω—ã (–Ω–µ –≤–∞–∂–Ω–æ, —É—Å–ø–µ—à–Ω–æ–π –∏–ª–∏ –Ω–µ—Ç), —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–Ω–∞–ø—à–æ—Ç-—Ñ–∞–π–ª.

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ—Ä–µ–π–º–æ–≤–æ—Ä–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ–≤—ã–µ —Å–Ω–∞–ø—à–æ—Ç-—Ñ–∞–π–ª—ã –º–æ–≥—É—Ç:
- –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ
- –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –Ω–∞ review diff'–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º
- —É–¥–∞–ª–∏—Ç—å—Å—è, –µ—Å–ª–∏ –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ (–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- "–ø—Ä–æ–≤–∞–ª–∏—Ç—å" —Ç–µ—Å—Ç, –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü–∞ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Å–Ω–∞–ø—à–æ—Ç-—Ñ–∞–π–ª–∞–º–∏
- –∏ —Ç.–¥. (–ª—É—á—à–µ –ø—Ä–æ —ç—Ç–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞)

### CI
[Workflow](./.github/workflows/rust.yml) –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Github Actions, –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–±–æ—Ä–∫–∞

CI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ push –∏ pull request –Ω–∞ –≤–µ—Ç–∫–∞—Ö master –∏ workflow

### –¢–µ—Å—Ç–æ–≤—ã–µ –∞—Å—Å–µ–º–±–ª–µ—Ä-–ø—Ä–æ–≥—Ä–∞–º–º—ã
#### hello
[input-file](./tests/inputs/hello.yml)

[snapshot-file](./tests/snapshots/integration__test@hello.yml.snap)
```asm
hello: word "Hello"

start: 
    mov eax, hello
    call print_string
    exit

print_string:
    mov edx, eax
    mov ecx, [eax]
    jz print_string_end

print_string_main_loop:
    inc edx
    mov eax, [edx]
    mov ebx, 4

print_string_word_loop:
    out 1

    dec ecx
    jz print_string_end

    dec ebx
    jz print_string_main_loop

    shr eax, 8
    jmp print_string_word_loop

print_string_end:
    ret
```

#### cat
[input-file](./tests/inputs/cat.yml)

[snapshot-file](./tests/snapshots/integration__test@cat.yml.snap)
```asm
start: 
    in 0
    cmp eax, 0
    jz end
    out 1
    jmp start
end:
    exit
```

#### hello_user_name
[input-file](./tests/inputs/hello_user_name.yml)

[snapshot-file](./tests/snapshots/integration__test@hello_user_name.yml.snap)
```asm
  prompt: word "What_is_your_name?"
  hello_start: word "Hello,_"
  hello_end: word "!"
  username_buf: word 0 word 0 word 0 word 0

  start: 
    mov eax, prompt
    call print_string
    call print_newline

    mov eax, username_buf
    call read_string

    mov eax, hello_start
    call print_string

    mov eax, username_buf
    call print_string

    mov eax, hello_end
    call print_string

    exit


  read_string:
    push eax
    mov edx, eax
    mov ecx, 0

  read_string_main_loop:
    inc edx
    mov ebx, 0

  read_string_word_loop:
    mov eax, 0
    in 0
    cmp eax, 0
    jz read_string_end
    inc ecx
    push ebx
  read_string_shift_loop:
    cmp ebx, 0
    jz read_string_word_stuff
    shl eax, 8
    dec ebx
    jmp read_string_shift_loop
  read_string_word_stuff:
    add [edx], eax
    pop ebx
    inc ebx
    cmp ebx, 4
    jz read_string_main_loop
    jmp read_string_word_loop

  read_string_end:
    pop eax
    mov [eax], ecx
    ret


  print_newline:
    mov eax, 10
    out 1
    ret


  print_string:
    mov edx, eax
    mov ecx, [eax]
    jz print_string_end

  print_string_main_loop:
    inc edx
    mov eax, [edx]
    mov ebx, 4

  print_string_word_loop:
    out 1

    dec ecx
    jz print_string_end

    dec ebx
    jz print_string_main_loop

    shr eax, 8
    jmp print_string_word_loop

  print_string_end:
    ret
```

#### prob2
[input-file](./tests/inputs/prob2.yml)

[snapshot-file](./tests/snapshots/integration__test@prob2.yml.snap)
```asm
  num: word 1
  result: word 2

  start:
    mov ecx, 3
    mov eax, 2
  loop:
    mov edx, eax
    add eax, [num]
    mov [num], edx
    dec ecx
    jnz loop
    mov ecx, 3
    cmp eax, 4000000
    jns end
    add [result], eax
    jmp loop

  end:
    mov eax, [result]
    call print_uint
    exit


  print_uint:
    mov ebx, 10
    mov ecx, esp

  print_uint_loop:
    dec esp
    mov edx, 0
    div
    add edx, 48
    mov [esp], edx
    cmp eax, 0
    jnz print_uint_loop
  print_uint_print:
    mov eax, [esp]
    out 1
    inc esp
    cmp esp, ecx
    jnz print_uint_print
  print_uint_end:
    ret
```

| –§–ò–û | <–∞–ª–≥> | <LoC> | <code –±–∞–π—Ç> | <code –∏–Ω—Å—Ç—Ä.> | <–∏–Ω—Å—Ç—Ä.> | <—Ç–∞–∫—Ç.> | <–≤–∞—Ä–∏–∞–Ω—Ç> |
|-|-|-|-|-|-|-|-|
